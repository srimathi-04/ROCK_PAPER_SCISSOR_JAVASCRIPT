<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="style.css" rel="stylesheet">
</head>
<body>
    <h1>ROCK PAPER SCISSORS</h1>
    <button onclick="
    playGame('rock')
    ">Rock</button>

    <button onclick="
    playGame('paper')
    ">Paper</button>

    <button onclick="
    playGame('scissor');
    ">scissor</button>

    <button class="resetbtn" onclick="
    score.wins = 0;
    score.loses = 0;
    score.tie = 0;
    localStorage.removeItem('score');
    ">Reset Score</button-->
    <script>

    /*let score = JSON.parse(localStorage.getItem('score'));
    if(!score){
        score={
            wins:0,
            loses:0,
            tie:0
        };
    }*/

    let score = JSON.parse(localStorage.getItem('score'))||{
        wins:0,
        loses:0,
        tie:0
    };

    function playGame(playerMove){
        const computerMove = pickComputerMove();
        let result = '';

        if (playerMove === 'scissor'){
            if(computerMove === 'scissor'){
            result = 'Tie';
            }

            else if (computerMove === 'rock'){
                result = 'You lose';
            }

            else if(computerMove == 'paper'){
                result = 'You win';
            }
        }


        else if (playerMove === 'paper'){
            if(computerMove === 'paper'){
                result = 'Tie';
                
            }

            else if (computerMove === 'scissor'){
                result = 'You lose';
            }

            else if(computerMove == 'rock'){
                result = 'You win';
            }
        }


        else{
            if(computerMove === 'rock'){
                result = 'Tie';    
            }

            else if (computerMove === 'paper'){
                result = 'You lose';
            }

            else if(computerMove == 'scissor'){
                result = 'You win';
            }
        }
        if (result === "You win"){
            score.wins += 1;
        }
        else if(result === 'You lose'){
            score.loses +=1;
        }
        else{
            score.tie +=1;
        }


        localStorage.setItem('score',JSON.stringify(score));

        alert(`You picked ${ playerMove} . Computer picked ' ${ computerMove }. ${result} 
    Wins:${score.wins}, Loses:${score.loses}, Tie:${score.tie}`);
        
    }


    function pickComputerMove(){
        const randomNumber = Math.random()

        let computerMove = '';
        if(randomNumber >=0 && randomNumber < (1/3)){
            computerMove = 'rock';
        }

        else if(randomNumber >= 1/3 && randomNumber < 2/3){
            computerMove = 'paper';
        }

        else if(randomNumber >= 2/3 && randomNumber <1){
            computerMove = 'scissor';
        }

        return computerMove;
    }
    </script>
</body>
</html>